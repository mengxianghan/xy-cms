(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8b9e19a","chunk-2d22d07e"],{"6f1f":function(e,t,a){},ee23:function(e,t,a){"use strict";var i=a("6f1f"),r=a.n(i);r.a},f313:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-list",{attrs:{grid:e.grid,"data-source":e.list,loading:e.loading},scopedSlots:e._u([{key:"renderItem",fn:function(t,i){return a("a-list-item",{},[""===t.id?[a("a-button",{directives:[{name:"action",rawName:"v-action:insert",arg:"insert"}],staticClass:"new-button",attrs:{type:"dashed",icon:"plus",block:""},on:{click:function(t){return e.$refs.editForm.handleInsert()}}},[e._v("新增账号 ")])]:[a("a-card",{staticClass:"account",attrs:{hoverable:""}},[a("a-card-meta",{attrs:{title:t.name}},[a("a-avatar",{staticStyle:{background:"#3ccb52"},attrs:{slot:"avatar",icon:"wechat",size:"large"},slot:"avatar"}),a("template",{slot:"description"},[a("a-descriptions",{attrs:{column:1}},[a("a-descriptions-item",{attrs:{label:"微信号"}},[e._v(e._s(t.account||"-"))]),a("a-descriptions-item",{attrs:{label:"AppId"}},[e._v(e._s(t.app_id||"-")+" ")]),a("a-descriptions-item",{attrs:{label:"AppSecret"}},[e._v(e._s(t.app_secred||"-")+" ")])],1)],1)],2),a("template",{staticClass:"ant-card-actions",slot:"actions"},[a("span",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}],on:{click:function(a){return e.$refs.editForm.handleEdit(t)}}},[a("a-icon",{attrs:{type:"edit"}}),e._v(" 编辑")],1),a("span",{directives:[{name:"action",rawName:"v-action:delete",arg:"delete"}]},[a("a-popconfirm",{attrs:{title:"确认删除此数据?"},on:{confirm:function(a){return e.$refs.editForm.handleDelete(t)}}},[a("a-icon",{attrs:{type:"delete"}}),e._v(" 删除 ")],1)],1)])],2)]],2)}}])}),a("edit-form",{ref:"editForm",on:{complete:e.onComplete}})],1)},r=[],n=(a("b4fb"),a("5c62")),s=a("f680"),o={gutter:16,column:3,xs:1,sm:1,md:2,lg:3},c={components:{EditForm:s["default"]},data:function(){return{grid:o,loading:!1,list:[]}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,this.$api.wechat.account.getList({has_pagination:0}).then((function(t){var a=t.code,i=t.data,r=i.list;i.total;e.loading=!1,"200"===a&&(e.list=[{id:""}].concat(Object(n["a"])(r)))})).catch((function(){e.loading=!1}))},onComplete:function(){this.getList()}}},d=c,l=(a("ee23"),a("4023")),u=Object(l["a"])(d,i,r,!1,null,"4ae79f6a",null);t["default"]=u.exports},f680:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:e.title,"confirm-loading":e.confirmLoading},on:{ok:e.onOk,cancel:e.onCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-form",e._b({attrs:{form:e.form}},"a-form",e.formItemLayout,!1),[a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名称"}]}],expression:"['name',{rules:[{required:true,message:'请输入名称'}]}]"}]})],1),a("a-form-item",{attrs:{label:"账号"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"请输入账号"}]}],expression:"['account',{rules:[{required:true,message:'请输入账号'}]}]"}]})],1),a("a-form-item",{attrs:{label:"原始ID"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["origin_id",{rules:[{required:!0,message:"请输入原始ID"}]}],expression:"['origin_id',{rules:[{required:true,message:'请输入原始ID'}]}]"}]})],1),a("a-form-item",{attrs:{label:"AppId"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_id",{rules:[{required:!0,message:"请输入AppId"}]}],expression:"['app_id',{rules:[{required:true,message:'请输入AppId'}]}]"}]})],1),a("a-form-item",{attrs:{label:"AppSecred"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_secred",{rules:[{required:!0,message:"请输入AppSecred"}]}],expression:"['app_secred',{rules:[{required:true,message:'请输入AppSecred'}]}]"}]})],1),a("a-form-item",{attrs:{label:"状态"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:"1"}],expression:"['status',{initialValue:'1'}]"}]},[a("a-radio",{attrs:{value:"1"}},[e._v("正常")]),a("a-radio",{attrs:{value:"0"}},[e._v("禁用")])],1)],1),a("a-form-item",{attrs:{label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:"99"}],expression:"['sort',{initialValue:'99'}]"}]})],1)],1)],1)},r=[],n=(a("053b"),a("e49c")),s={mixins:[n["default"]],data:function(){return{}},methods:{handleInsert:function(){this.toggleModal(),this.title="新增账号"},handleEdit:function(e){var t=this;this.toggleModal(),this.record=e,this.title="编辑账号",this.$nextTick((function(){t.form.setFieldsValue({name:e.name,account:e.account,origin_id:e.origin_id,app_id:e.app_id,app_secred:e.app_secred,status:e.status,sort:e.sort})}))},handleDelete:function(e){var t=this;this.$api.wechat.account.delete({id:e.id}).then((function(a){var i=a.code;"200"===i&&(t.$emit("delete",e),t.$emit("complete",e))}))},onOk:function(){var e=this;this.form.validateFieldsAndScroll((function(t,a){t||(e.confirmLoading=!0,e.$api.wechat.account.submit({id:e.record.id,name:a.name,account:a.account,origin_id:a.origin_id,app_id:a.app_id,app_secred:a.app_secred,status:a.status,sort:a.sort}).then((function(t){var i=t.code;e.confirmLoading=!1,"200"===i&&(e.reset(),e.toggleModal(),e.$emit("ok",a),e.$emit("complete",a))})))}))},onCancel:function(){this.reset(),this.toggleModal(),this.$emit("cancel")}}},o=s,c=a("4023"),d=Object(c["a"])(o,i,r,!1,null,"65483f87",null);t["default"]=d.exports}}]);