(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bfec7"],{"401f":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{md:5,xs:24}},[e("a-card",{attrs:{bordered:!1}},[e("x-info-column",{ref:"informationColumn",attrs:{"selected-keys":[t.currentColumn.id]},on:{select:t.handleSelect,complete:t.onInfoColumnComplete}})],1)],1),e("a-col",{attrs:{md:19,xs:24}},[e("a-card",{attrs:{bordered:!1}},[e("a-spin",{attrs:{spinning:t.spinning}},[e("a-form",t._b({attrs:{form:t.form}},"a-form",t.formItemLayout,!1),[e("a-form-item",{attrs:{label:"标题"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入标题"}]}],expression:"['title',{rules:[{required:true,message:'请输入标题'}]}]"}]})],1),e("a-form-item",{attrs:{label:"内容"}},[e("x-editor",{directives:[{name:"decorator",rawName:"v-decorator",value:["content"],expression:"['content']"}]})],1),e("a-form-item",t._b({},"a-form-item",t.formItemLayoutButton,!1),[e("a-button",{directives:[{name:"action",rawName:"v-action:save",arg:"save"}],attrs:{type:"primary",loading:t.confirmLoading},on:{click:t.handleSubmit}},[t._v("保存 ")])],1)],1)],1)],1)],1)],1)],1)},o=[],a=(e("053b"),e("e49c")),r={mixins:[a["default"]],data:function(){return{confirmLoading:!1,spinning:!0,currentColumn:{id:"",name:""},content:""}},created:function(){},watch:{currentColumn:{deep:!0,handler:function(){this.getData()}}},methods:{getData:function(){var t=this;this.spinning=!0,this.$api.information.single.getData({column_id:this.currentColumn.id}).then((function(n){var e=n.code,i=n.data,o=i.title,a=i.content;t.spinning=!1,"200"===e&&(t.form.setFieldsValue({title:o||t.currentColumn.name,content:a}),t.content=a)}))},handleSubmit:function(){var t=this;this.form.validateFieldsAndScroll((function(n,e){n||(t.confirmLoading=!0,t.$api.information.single.submit({column_id:t.currentColumn.id,title:e.title,content:e.content}).then((function(n){n.code,n.data;t.confirmLoading=!1}),(function(n){t.confirmLoading=!1}),(function(n){t.confirmLoading=!1})))}))},handleSelect:function(t,n){if(t.length){var e=n.node,i=e.title,o=e.value;this.$set(this.currentColumn,"id",o),this.$set(this.currentColumn,"name",i)}},onInfoColumnComplete:function(t){var n=t.treeData,e=this.$refs.informationColumn.getFirstValidColumn(n);e&&(this.$set(this.currentColumn,"id",e.value),this.$set(this.currentColumn,"name",e.title))}}},c=r,s=e("4023"),l=Object(s["a"])(c,i,o,!1,null,"41a7b136",null);n["default"]=l.exports}}]);