(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4867fe68","chunk-2d21b2b7"],{a2f9:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-card",{attrs:{bordered:!1}},[a("div",{directives:[{name:"action",rawName:"v-action:insert",arg:"insert"}],staticClass:"mb-2"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(e){return t.$refs.editForm.handleInsert()}}},[t._v("新增品牌")])],1),a("a-table",{attrs:{columns:t.columns,"data-source":t.list,pagination:t.pagination,loading:t.loading,"row-key":"id",size:"middle"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"status",fn:function(t){return[a("x-status",{attrs:{code:t}})]}},{key:"operation",fn:function(e,i){return[a("span",{directives:[{name:"action",rawName:"v-action:edit",arg:"edit"}]},[a("a",{on:{click:function(e){return t.$refs.editForm.handleEdit(i)}}},[t._v("编辑")]),a("a-divider",{attrs:{type:"vertical"}})],1),a("span",{directives:[{name:"action",rawName:"v-action:delete",arg:"delete"}]},[a("a-popconfirm",{attrs:{title:"确认删除此数据?"},on:{confirm:function(e){return t.$refs.editForm.handleDelete(i)}}},[a("a",[t._v("删除")])])],1)]}}])})],1),a("edit-form",{ref:"editForm",on:{complete:t.onComplete}})],1)},n=[],o=(a("513c"),a("80a0")),r=a("bf41"),s=[{title:"名称",dataIndex:"name"},{title:"链接",dataIndex:"links"},{title:"描述",dataIndex:"description"},{title:"状态",dataIndex:"status",scopedSlots:{customRender:"status"}},{title:"排序",dataIndex:"sort"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],l={name:"index",components:{EditForm:r["default"]},data:function(){return{columns:s,list:[],pagination:{showSizeChanger:!0},loading:!1}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,this.$api.mall.brand.getList({current_page:this.pagination.current,page_size:this.pagination.pageSize}).then((function(e){var a=e.code,i=e.data,n=i.list,r=i.total;t.loading=!1,"200"===a&&(t.pagination=Object(o["a"])(Object(o["a"])({},t.pagination),{},{total:Number(r)}),t.list=n)})).catch((function(){t.loading=!1}))},handleTableChange:function(t){this.pagination=Object(o["a"])(Object(o["a"])({},this.pagination),{},{current:t.current,pageSize:t.pageSize}),this.getList()},onComplete:function(){this.getList()}}},d=l,c=a("4023"),u=Object(c["a"])(d,i,n,!1,null,"1d81ee28",null);e["default"]=u.exports},bf41:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,"confirm-loading":t.confirmLoading},on:{ok:t.onOk,cancel:t.onCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form",t._b({attrs:{form:t.form}},"a-form",t.formItemLayout,!1),[a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入名称"}]}],expression:"['name',{rules:[{required:true,message:'请输入名称'}]}]"}]})],1),a("a-form-item",{attrs:{label:"链接"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["links"],expression:"['links']"}]})],1),a("a-form-item",{attrs:{label:"描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["description"],expression:"['description']"}]})],1),a("a-form-item",{attrs:{label:"状态"}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:"1"}],expression:"['status',{initialValue:'1'}]"}]},[a("a-radio",{attrs:{value:"1"}},[t._v("正常")]),a("a-radio",{attrs:{value:"0"}},[t._v("禁用")])],1)],1),a("a-form-item",{attrs:{label:"排序"}},[a("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:"99"}],expression:"['sort',{initialValue:'99'}]"}]})],1)],1)],1)},n=[],o=(a("f3dd"),a("0a51"),a("053b"),a("e49c")),r={mixins:[o["default"]],data:function(){return{}},methods:{handleInsert:function(){this.toggleModal(),this.title="新增品牌"},handleEdit:function(t){var e=this;this.toggleModal(),this.record=t,this.title="编辑品牌",this.$nextTick((function(){e.form.setFieldsValue({name:t.name,links:t.links,description:t.description,status:t.status,sort:t.sort})}))},handleDelete:function(t){var e=this;this.$api.mall.brand.delete({id:t.id}).then((function(a){var i=a.code;"200"===i&&(e.$emit("delete",t),e.$emit("complete",t))}))},onOk:function(){var t=this;this.form.validateFieldsAndScroll((function(e,a){e||(t.confirmLoading=!0,t.$api.mall.brand.submit({id:t.record.id,name:a.name,links:a.links,description:a.description,status:a.status,sort:a.sort}).then((function(e){var i=e.code;t.confirmLoading=!1,"200"===i&&(t.reset(),t.toggleModal(),t.$emit("ok",a),t.$emit("complete",a))}),(function(e){t.confirmLoading=!1})))}))},onCancel:function(){this.reset(),this.toggleModal(),this.$emit("cancel")}}},s=r,l=a("4023"),d=Object(l["a"])(s,i,n,!1,null,"4e379308",null);e["default"]=d.exports}}]);