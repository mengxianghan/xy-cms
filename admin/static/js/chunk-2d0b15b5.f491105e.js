(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b15b5"],{2001:function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-modal",{attrs:{title:e.title,"confirm-loading":e.confirmLoading},on:{ok:e.onOk,cancel:e.onCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("a-form",e._b({attrs:{form:e.form}},"a-form",e.formItemLayout,!1),[i("a-form-item",{attrs:{label:"所属目录"}},[i("a-tree-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["dict_dir_id",{rules:[{required:!0,message:"请选择所属目录"}]}],expression:"['dict_dir_id',{rules:[{required:true,message:'请选择所属目录'}]}]"}],attrs:{"tree-data":e.treeData,"default-expand-all":""}})],1),i("a-form-item",{attrs:{label:"字典名称"}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入字典名称"}]}],expression:"['name',{rules:[{required:true,message:'请输入字典名称'}]}]"}]})],1),i("a-form-item",{attrs:{label:"Key"}},[i("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["key",{rules:[{required:!0,message:"请输入Key"}]}],expression:"['key',{rules:[{required:true,message:'请输入Key'}]}]"}]})],1),i("a-form-item",{attrs:{label:"备注"}},[i("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark"],expression:"['remark']"}]})],1),i("a-form-item",{attrs:{label:"状态"}},[i("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["status",{initialValue:"1"}],expression:"['status',{initialValue:'1'}]"}]},[i("a-radio",{attrs:{value:"1"}},[e._v("正常")]),i("a-radio",{attrs:{value:"0"}},[e._v("禁用")])],1)],1),i("a-form-item",{attrs:{label:"排序"}},[i("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["sort",{initialValue:"99"}],expression:"['sort',{initialValue:'99'}]"}]})],1)],1)],1)},a=[],s=(i("dbb3"),i("053b"),i("e35a"),i("0d7a"),i("e49c")),o={mixins:[s["default"]],data:function(){return{dictDirKey:""}},created:function(){var e=this;this.form=this.$form.createForm(this,{onValuesChange:function(t,i){if(i.dict_dir_id){var r=e.$xy.util.treeToList(e.$parent.dictDirList).filter((function(e){return e.id===i.dict_dir_id}));r.length?e.dictDirKey=r[0].key:e.dictDirKey=""}}})},computed:{treeData:function(){return this.$xy.util.changeKeys(this.$parent.dictDirList)}},methods:{handleInsert:function(){var e=this;if(0===this.$parent.dictDirList.length)return this.$message.warn("请添加字典目录"),!1;this.toggleModal(),this.title="新增字典",this.$nextTick((function(){var t=e.$parent.dictDirId.split(",").length?e.$parent.dictDirId.split(",")[0]:"";e.form.setFieldsValue({dict_dir_id:t})}))},handleEdit:function(e){var t=this;this.toggleModal(),this.record=e,this.title="编辑字典",this.dictDirKey=e.dict_dir_key,this.$nextTick((function(){t.form.setFieldsValue({dict_dir_id:e.dict_dir_id,name:e.name,key:e.key,remark:e.remark,status:e.status,sort:e.sort})}))},handleDelete:function(e){var t=this;this.$api.system.dict.delete({id:e.id}).then((function(i){var r=i.code;"200"===r&&(t.$emit("delete",e),t.$emit("complete",e))}))},onOk:function(){var e=this;this.form.validateFieldsAndScroll((function(t,i){t||(e.confirmLoading=!0,e.$api.system.dict.submit({id:e.record.id,dict_dir_id:i.dict_dir_id,dict_dir_key:e.dictDirKey,name:i.name,key:i.key,remark:i.remark,status:i.status,sort:i.sort}).then((function(t){var r=t.code;e.confirmLoading=!1,"200"===r&&(e.reset(),e.toggleModal(),e.$emit("ok",i),e.$emit("complete",i))}),(function(t){e.confirmLoading=!1})))}))},onCancel:function(){this.reset(),this.toggleModal(),this.$emit("cancel")}}},n=o,d=i("4023"),l=Object(d["a"])(n,r,a,!1,null,"0e5667d5",null);t["default"]=l.exports}}]);